========================================================
KSeF Invoice - Budowanie wersji Linux (AppImage)
========================================================
[1/6] Przygotowanie izolowanego środowiska w /tmp/KsefInvoice_Build_Lin_1772199903...
Kopiowanie źródeł...
Katalog roboczy (temp): /tmp/KsefInvoice_Build_Lin_1772199903/src
Instalacja zależności...
[2/6] Budowanie pliku binarnego (PyInstaller)...
27 INFO: PyInstaller: 6.19.0, contrib hooks: 2026.1
28 INFO: Python: 3.13.7
30 INFO: Platform: Linux-6.17.0-14-generic-x86_64-with-glibc2.42
30 INFO: Python environment: /tmp/KsefInvoice_Build_Lin_1772199903/venv
30 INFO: Removing temporary files and cleaning cache in /home/jaroslawd/.cache/pyinstaller
31 INFO: Module search paths (PYTHONPATH):
['/tmp/KsefInvoice_Build_Lin_1772199903/src',
 '/usr/lib/python313.zip',
 '/usr/lib/python3.13',
 '/usr/lib/python3.13/lib-dynload',
 '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages',
 '/tmp/KsefInvoice_Build_Lin_1772199903/src']
109 INFO: Appending 'datas' from .spec
110 INFO: checking Analysis
110 INFO: Building Analysis because Analysis-00.toc is non existent
110 INFO: Looking for Python shared library...
119 INFO: Using Python shared library: /lib/x86_64-linux-gnu/libpython3.13.so.1.0
119 INFO: Running Analysis Analysis-00.toc
119 INFO: Target bytecode optimization level: 0
119 INFO: Initializing module dependency graph...
119 INFO: Initializing module graph hook caches...
122 INFO: Analyzing modules for base_library.zip ...
521 INFO: Processing standard module hook 'hook-encodings.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
1591 INFO: Processing standard module hook 'hook-pickle.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
2161 INFO: Processing standard module hook 'hook-heapq.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
2424 INFO: Caching module dependency graph...
2444 INFO: Analyzing /tmp/KsefInvoice_Build_Lin_1772199903/src/main_qt.py
2451 INFO: Processing standard module hook 'hook-cryptography.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
2687 INFO: hook-cryptography: cryptography does not seem to be using dynamically linked OpenSSL.
2692 INFO: Processing standard module hook 'hook-PySide6.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
2755 INFO: Processing standard module hook 'hook-shiboken6.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
2845 INFO: Processing standard module hook 'hook-PySide6.QtNetwork.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
3378 INFO: Processing standard module hook 'hook-PySide6.QtCore.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
3878 INFO: Processing standard module hook 'hook-PySide6.QtWidgets.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
4410 INFO: Processing standard module hook 'hook-PySide6.QtGui.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
4820 INFO: Processing standard module hook 'hook-sqlalchemy.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
5131 INFO: Processing standard module hook 'hook-platform.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
5142 INFO: Processing standard module hook 'hook-_ctypes.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
5156 INFO: Processing standard module hook 'hook-sysconfig.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
5199 INFO: Processing pre-safe-import-module hook 'hook-typing_extensions.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
5199 INFO: SetuptoolsInfo: initializing cached setuptools info...
5470 INFO: Processing standard module hook 'hook-multiprocessing.util.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
5566 INFO: Processing standard module hook 'hook-xml.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
5938 INFO: Processing pre-safe-import-module hook 'hook-importlib_metadata.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
5938 INFO: Setuptools: 'importlib_metadata' appears to be a setuptools-vendored copy - creating alias to 'setuptools._vendor.importlib_metadata'!
5942 INFO: Processing standard module hook 'hook-setuptools.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
5949 INFO: Processing pre-safe-import-module hook 'hook-distutils.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
5964 INFO: Processing pre-safe-import-module hook 'hook-jaraco.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
5964 INFO: Setuptools: 'jaraco' appears to be a full setuptools-vendored copy - creating alias to 'setuptools._vendor.jaraco'!
5970 INFO: Processing pre-safe-import-module hook 'hook-more_itertools.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
5970 INFO: Setuptools: 'more_itertools' appears to be a setuptools-vendored copy - creating alias to 'setuptools._vendor.more_itertools'!
6117 INFO: Processing pre-safe-import-module hook 'hook-packaging.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
6212 INFO: Processing standard module hook 'hook-setuptools._vendor.jaraco.text.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
6213 INFO: Processing pre-safe-import-module hook 'hook-importlib_resources.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
6331 INFO: Processing pre-safe-import-module hook 'hook-backports.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
6331 INFO: Setuptools: 'backports' appears to be a full setuptools-vendored copy - creating alias to 'setuptools._vendor.backports'!
6551 INFO: Processing pre-safe-import-module hook 'hook-tomli.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
6551 INFO: Setuptools: 'tomli' appears to be a setuptools-vendored copy - creating alias to 'setuptools._vendor.tomli'!
6828 INFO: Processing pre-safe-import-module hook 'hook-wheel.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
6828 INFO: Setuptools: 'wheel' appears to be a setuptools-vendored copy - creating alias to 'setuptools._vendor.wheel'!
6866 INFO: Processing standard module hook 'hook-setuptools._vendor.importlib_metadata.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
6878 INFO: Processing pre-safe-import-module hook 'hook-zipp.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_safe_import_module'
6878 INFO: Setuptools: 'zipp' appears to be a setuptools-vendored copy - creating alias to 'setuptools._vendor.zipp'!
8970 INFO: Processing standard module hook 'hook-xml.etree.cElementTree.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
8974 INFO: Processing standard module hook 'hook-xml.dom.domreg.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
9093 INFO: Processing standard module hook 'hook-urllib3.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
9406 INFO: Processing standard module hook 'hook-charset_normalizer.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
9647 INFO: Processing standard module hook 'hook-certifi.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
9708 INFO: Processing standard module hook 'hook-lxml.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
9791 INFO: Processing standard module hook 'hook-lxml.etree.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
9980 INFO: Processing standard module hook 'hook-PySide6.QtPrintSupport.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
10095 INFO: Processing standard module hook 'hook-PIL.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
10155 INFO: Processing standard module hook 'hook-PIL.Image.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
10536 INFO: Processing standard module hook 'hook-PIL.ImageFilter.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
10842 INFO: Analyzing hidden import 'pymysql'
10909 INFO: Processing module hooks (post-graph stage)...
10987 INFO: Processing standard module hook 'hook-difflib.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
11244 INFO: Processing standard module hook 'hook-lxml.isoschematron.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
11251 INFO: Processing standard module hook 'hook-lxml.objectify.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/stdhooks'
11264 INFO: Processing standard module hook 'hook-sqlalchemy.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
11402 WARNING: Hidden import "pysqlite2" not found!
11402 WARNING: Hidden import "MySQLdb" not found!
11402 WARNING: Hidden import "psycopg2" not found!
11909 INFO: Processing standard module hook 'hook-sqlite3.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
12236 INFO: Processing standard module hook 'hook-PySide6.QtDBus.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
12478 INFO: Processing standard module hook 'hook-PIL.SpiderImagePlugin.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
12512 INFO: Performing binary vs. data reclassification (183 entries)
12596 INFO: Looking for ctypes DLLs
12636 INFO: Analyzing run-time hooks ...
12639 INFO: Including run-time hook 'pyi_rth_inspect.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/rthooks'
12640 INFO: Including run-time hook 'pyi_rth_pyside6.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/rthooks'
12641 INFO: Processing pre-find-module-path hook 'hook-_pyi_rth_utils.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/pre_find_module_path'
12641 INFO: Processing standard module hook 'hook-_pyi_rth_utils.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks'
12643 INFO: Including run-time hook 'pyi_rth_pkgutil.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/rthooks'
12644 INFO: Including run-time hook 'pyi_rth_multiprocessing.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/rthooks'
12645 INFO: Including run-time hook 'pyi_rth_setuptools.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/hooks/rthooks'
12645 INFO: Including run-time hook 'pyi_rth_cryptography_openssl.py' from '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/_pyinstaller_hooks_contrib/rthooks'
12653 INFO: Creating base_library.zip...
12661 INFO: Looking for dynamic libraries
13976 WARNING: Library not found: could not resolve 'libtiff.so.5', dependency of '/tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PySide6/Qt/plugins/imageformats/libqtiff.so'.
13991 INFO: Warnings written to /tmp/KsefInvoice_Build_Lin_1772199903/build/ksef_invoice/warn-ksef_invoice.txt
14013 INFO: Graph cross-reference written to /tmp/KsefInvoice_Build_Lin_1772199903/build/ksef_invoice/xref-ksef_invoice.html
14028 INFO: checking PYZ
14028 INFO: Building PYZ because PYZ-00.toc is non existent
14028 INFO: Building PYZ (ZlibArchive) /tmp/KsefInvoice_Build_Lin_1772199903/build/ksef_invoice/PYZ-00.pyz
14599 INFO: Building PYZ (ZlibArchive) /tmp/KsefInvoice_Build_Lin_1772199903/build/ksef_invoice/PYZ-00.pyz completed successfully.
14606 WARNING: Ignoring icon; supported only on Windows and macOS!
14612 INFO: checking PKG
14612 INFO: Building PKG because PKG-00.toc is non existent
14612 INFO: Building PKG (CArchive) KsefInvoice.pkg
14627 INFO: Building PKG (CArchive) KsefInvoice.pkg completed successfully.
14627 INFO: Bootloader /tmp/KsefInvoice_Build_Lin_1772199903/venv/lib/python3.13/site-packages/PyInstaller/bootloader/Linux-64bit-intel/run
14627 INFO: checking EXE
14627 INFO: Building EXE because EXE-00.toc is non existent
14627 INFO: Building EXE from EXE-00.toc
14627 INFO: Copying bootloader EXE to /tmp/KsefInvoice_Build_Lin_1772199903/build/ksef_invoice/KsefInvoice
14627 INFO: Appending PKG archive to custom ELF section in EXE
14636 INFO: Building EXE from EXE-00.toc completed successfully.
14638 INFO: checking COLLECT
14638 INFO: Building COLLECT because COLLECT-00.toc is non existent
14638 INFO: Building COLLECT COLLECT-00.toc
14693 INFO: Building COLLECT COLLECT-00.toc completed successfully.
14696 INFO: Build complete! The results are available in: /tmp/KsefInvoice_Build_Lin_1772199903/dist
[3/6] Przygotowanie struktury AppDir...
Using FlatHub source: /home/jaroslawd/projekty/KsefInvoice/FlatHub
OSTRZEŻENIE: Brak 'imagemagick'. Kopiuję logo.ico jako logo.png.
[4/6] Weryfikacja narzędzia appimagetool...
Pobieranie appimagetool z GitHub...
[5/6] Generowanie pliku .AppImage...
appimagetool, continuous build (git version 8c8c91f), build 295 built on 2025-12-04 17:56:36 UTC
Using architecture x86_64
/tmp/KsefInvoice_Build_Lin_1772199903/AppDir should be packaged as /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux/AppImage/KsefInvoice-Linux-x86_64.AppImage
Deleting pre-existing .DirIcon
Creating .DirIcon symlink based on information from desktop file
WARNING: AppStream upstream metadata is missing, please consider creating it
         in usr/share/metainfo/KsefInvoice.appdata.xml
         Please see https://www.freedesktop.org/software/appstream/docs/chap-Quickstart.html#sect-Quickstart-DesktopApps
         for more information or use the generator at
         https://docs.appimage.org/packaging-guide/optional/appstream.html#using-the-appstream-generator
Generating squashfs...
Downloading runtime file from https://github.com/AppImage/type2-runtime/releases/download/continuous/runtime-x86_64
Downloaded runtime binary of size 944632
Parallel mksquashfs: Using 20 processors
Creating 4.0 filesystem on /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux/AppImage/KsefInvoice-Linux-x86_64.AppImage, block size 131072.
[=============================================================|] 2135/2135 100%

Exportable Squashfs 4.0 filesystem, zstd compressed, data block size 131072
	compressed data, compressed metadata, compressed fragments,
	compressed xattrs, compressed ids
	duplicates are removed
Filesystem size 88811.14 Kbytes (86.73 Mbytes)
	36.91% of uncompressed filesystem size (240587.30 Kbytes)
Inode table size 10189 bytes (9.95 Kbytes)
	41.63% of uncompressed inode table size (24477 bytes)
Directory table size 5990 bytes (5.85 Kbytes)
	44.69% of uncompressed directory table size (13403 bytes)
Number of duplicate files found 6
Number of inodes 485
Number of files 386
Number of fragments 68
Number of symbolic links 45
Number of device nodes 0
Number of fifo nodes 0
Number of socket nodes 0
Number of directories 54
Number of hard-links 0
Number of ids (unique uids + gids) 1
Number of uids 1
	root (0)
Number of gids 1
	root (0)
Embedding ELF...
Marking the AppImage as executable...
Embedding MD5 digest
Success

Please consider submitting your AppImage to AppImageHub, the crowd-sourced
central directory of available AppImages, by opening a pull request
at https://github.com/AppImage/appimage.github.io
[6/6] Generowanie paczki Flatpak i version.txt...
Using Custom Deploy Root: /home/jaroslawd/projekty/KsefInvoice/DEPLOY
Project Root (for version check): /tmp/KsefInvoice_Build_Lin_1772199903/src
Workspace Root (for templates): /home/jaroslawd/projekty/KsefInvoice
Detected Version: 1.0.4 (Beta)
Created /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux/Flatpak/version.txt
Renamed AppImage to KsefInvoice_Linux_v1.0.4_Beta.AppImage
Creating TAR.GZ archive: /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux/Flatpak/KsefInvoice-1.0.4.tar.gz...
TAR.GZ created.
Archive SHA256: d43516b567605e61237cd0a9ddc22ef64a4198844f05a1d91d7212eed559ed0b
Found wrapper script: ksef_wrapper.sh
Wrapper SHA256: 78d7e2d970581103b7d9513d50a8bfd49ed9041ffbf732aca196f3296d803841
Updating FlatHub Manifest at: /home/jaroslawd/projekty/KsefInvoice/FlatHub/pl.ksefinvoice.app.json
Updated archive source to: https://github.com/JDyszczynski/pl.ksefinvoice.app/releases/download/v1.0.4/KsefInvoice-1.0.4.tar.gz
Updated Release Manifest: pl.ksefinvoice.app.json
Updated Metainfo with version 1.0.4 and date 2026-02-27

[LINUX RELEASE READY]
Deploy Root: /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux
  > AppImage/ (contains executable for website)
  > Flatpak/  (contains tar.gz for Release)
  > FlatHub/  (contains updated Manifest and Metainfo)
[7/7] Pominięto aktualizację FlatHub (brak skryptu update_flathub.py)
Sprzątanie plików tymczasowych...
Czyszczenie katalogu PRODUKCYJNA...
========================================================
SUKCES! Gotowe pliki w: /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux
  - /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux/AppImage (Plik .AppImage)
  - /home/jaroslawd/projekty/KsefInvoice/DEPLOY/linux/Flatpak  (Pliki dla serwera: tar.gz, json, txt)
========================================================
